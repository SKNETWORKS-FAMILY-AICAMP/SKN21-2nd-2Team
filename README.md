## <span style="color:green">SKN21-2nd-2Team</span>
# Spotipy ì´íƒˆ ì˜ˆì¸¡ ì–´í”Œë¦¬ì¼€ì´ì…˜ (Spotify Churn Prediction App)

<br>

 <p align="center">
        <img src="image/ìŠ¤í¬í‹°íŒŒì´.svg" alt="í”„ë¡œì íŠ¸ ë¡œê³ " width="500">
      </p>

<br><br><br>
    

## ğŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”

   <p align="center">
        <img src="image/spotify_naver.png" alt="ë„¤ì´ë²„-ìŠ¤í¬í‹°íŒŒì´ê¸°ì‚¬" width="600">
      </p>
  <p align="center">
        <img src="image/spotify_naver2.png" alt="ì‚¬ì§„" width="500">
      </p>

<br>

êµ­ë‚´ ìŒì•… ìŠ¤íŠ¸ë¦¬ë° ì‹œì¥ì—ì„œ ê²½ìŸì´ ì‹¬í™”ë˜ë©´ì„œ, **ê³ ê° ì´íƒˆ(Churn)** ì€ í”Œë«í¼ì˜ ìˆ˜ìµì„±ê³¼ ì§ê²°ë˜ëŠ” í•µì‹¬ ë¬¸ì œê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.
íŠ¹íˆ SpotifyëŠ” ìµœê·¼ â€˜Spotify Freeâ€™ ë¥¼ **í•œêµ­ ì‹œì¥ì— ë¡ ì¹­í•˜ë©° ì ìœ ìœ¨ í™•ëŒ€**ë¥¼ ì ê·¹ì ìœ¼ë¡œ ì¶”ì§„í•˜ê³  ìˆì–´,
**ì ì¬ì  ì´íƒˆ ê³ ê°ì„ ì¡°ê¸°ì— ì‹ë³„í•˜ê³  ìœ ì§€ ì „ëµì„ ì„¸ìš°ëŠ” ëŠ¥ë ¥ì´ ë”ìš± ì¤‘ìš”**í•´ì§€ê³  ìˆìŠµë‹ˆë‹¤.

<br>

 <p align="center">
        <img src="image/spotifyfree.png" alt="ì‚¬ì§„" width="600">
      </p>
<p align="center">
  <img src="image/spotifyfree2.png" width="250">
  <img src="image/spotifyì¶”ì„¸.jpg" width="250">
  <img src="image/ë©œë¡ ì¡ê² ë‹¤.jpg" width="250">
</p>

</div>

<br>

ë³¸ í”„ë¡œì íŠ¸ëŠ” Spotify ì‚¬ìš©ì ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ,
ì‚¬ìš©ì í–‰ë™ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ **ì´íƒˆ ê°€ëŠ¥ì„±**ì„ ì˜ˆì¸¡í•˜ëŠ” ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.
ì´ë¥¼ í†µí•´ **ë§ˆì¼€íŒ…/ìš´ì˜ íŒ€ì€ ë‹¤ìŒê³¼ ê°™ì€ ì˜ì‚¬ê²°ì •**ì„ **íš¨ê³¼ì **ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br>

- **ğŸ” ìœ„í—˜ ê³ ê°ì„ ì¡°ê¸°ì— ë°œê²¬í•˜ì—¬ ë§ì¶¤í˜• ë¦¬í…ì…˜ ìº í˜ì¸ ì‹¤í–‰**

- **ğŸ“ˆ ìœ ë£Œ ì „í™˜/ìœ ì§€ ê°€ëŠ¥ì„±ì´ ë†’ì€ ê³ ê°êµ° ì‹ë³„**

- **ğŸ“Š ì‚¬ìš©ì í–‰ë™ íŒ¨í„´ì„ ì´í•´í•˜ê³  ì„œë¹„ìŠ¤ ê°œì„  ë°©í–¥ ìˆ˜ë¦½**

<br>

ë³¸ ì‹œìŠ¤í…œì€ ë‹¨ìˆœ ì˜ˆì¸¡ì„ ë„˜ì–´ì„œ,
íŒŒìƒ ë³€ìˆ˜ ê¸°ë°˜ì˜ **í–‰ë™ ì¸ì‚¬ì´íŠ¸ ë¶„ì„**(Engagement Score, Skip Behavior ë“±) ê³¼
**ì‹œê°í™” ê¸°ëŠ¥**ì„ ì œê³µí•˜ì—¬,
**Spotify ë‚´ë¶€ íŒ€ì´ ë³´ë‹¤ ì§ê´€ì ìœ¼ë¡œ ë°ì´í„° ê¸°ë°˜ ê²°ì •ì„ ë‚´ë¦´ ìˆ˜ ìˆë„ë¡ ì§€ì›**í•©ë‹ˆë‹¤.

<br><br><br>

<h2>ğŸ‘¥ íŒ€ êµ¬ì„± ë° ì—­í•  ë¶„ë‹´</h2>
<p><strong>Team ì—­ì „íŒŒ</strong></p>

<table>
<tr>
<td align="center" width="200" style="vertical-align: top; height: 300px;">
  <img src="image/ê°•í•˜ë‹¤.jpg" width="210" height="210" style="border-radius: 50%; object-fit: cover;" alt="ë°•ìˆ˜ë¹ˆ"/>
  <br />
  <h3 style="margin: 10px 0 5px 0;">ë°•ìˆ˜ë¹ˆ</h3>
  <p style="margin: 5px 0;">ì´ê´„ | Streamlit + Integrator</p>
  <div style="margin-top: 10px;">
    <a href="https://github.com/sbpark2930-ui">
      <img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=GitHub&logoColor=white"/>
    </a>
  </div>
</td>

<td align="center" width="200" style="vertical-align: top; height: 300px;">
<img src="image/í”¼ì¹´ì¸„.jpg" width="160" height="160" style="border-radius: 50%; object-fit: cover;" alt="ì‹ ì§€ìš©"/>
  <br />
<br />
<h3 style="margin: 10px 0 5px 0;">ì‹ ì§€ìš©</h3>
<p style="margin: 5px 0;">ì „ì²˜ë¦¬ ê²€ì¦ + FeatureíŠœë‹</p>
<div style="margin-top: 10px;">
<a href="https://github.com/sjy361872">
<img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=GitHub&logoColor=white"/>
</a>
</div>
</td>
<td align="center" width="200" style="vertical-align: top; height: 300px;">
<img src="image/ì´ˆë¡±ì´.jpg" width="170" height="170" style="border-radius: 50%; object-fit: cover;" alt="ìœ¤ê²½ì€"/>
  <br />
<br />
<h3 style="margin: 10px 0 5px 0;">ìœ¤ê²½ì€</h3>
<p style="margin: 5px 0;">ë°ì´í„°ë¶„ì„ + íŒŒì´í”„ë¼ì¸ ì„¤ê³„</p>
<div style="margin-top: 10px;">
<a href="https://github.com/ykgstar37-lab">
<img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=GitHub&logoColor=white"/>
</a>
</div>
</td>
<td align="center" width="200" style="vertical-align: top; height: 300px;">
<img src="image/ì§±ìˆê³ ì–‘ì´.jpg" width="180" height="180" style="border-radius: 50%; object-fit: cover;" alt="ì •ì„¸ì—°"/>
<br />
<h3 style="margin: 10px 0 5px 0;">ì •ì„¸ì—°</h3>
<p style="margin: 5px 0;">ëª¨ë¸ í…œí”Œë¦¿ì œì‘ + Baseline í•™ìŠµ</p>
<div style="margin-top: 10px;">
<a href="https://github.com/wjdtpdus25">
<img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=GitHub&logoColor=white"/>
</a>
</div>
</td>
<td align="center" width="200" style="vertical-align: top; height: 300px;">
<img src="image/ì½”ì¹´ì¸.jpg" width="150" height="150" style="border-radius: 50%; object-fit: cover;" alt="ë°•ë¯¼ì •"/>
<br />
<h3 style="margin: 10px 0 5px 0;">ë°•ë¯¼ì •</h3>
<p style="margin: 5px 0;">pipeline êµ¬í˜„ ë‹´ë‹¹</p>
<div style="margin-top: 10px;">
<a href="https://github.com/silentkit12">
<img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=GitHub&logoColor=white"/>
</a>
</div>
</td>
</tr>
</table>


</div>


<br><br><br>
## ğŸ›  Tech Stack

### ğŸ› Backend (API ì„œë²„)
![Flask](https://img.shields.io/badge/Flask-000000?style=for-the-badge&logo=flask&logoColor=white)
![PyMySQL](https://img.shields.io/badge/PyMySQL-4479A1?style=for-the-badge&logo=mysql&logoColor=white)
![bcrypt](https://img.shields.io/badge/bcrypt-3388FF?style=for-the-badge&logo=security&logoColor=white)

<br>

### ğŸ“Š Data Processing & Analysis
![Pandas](https://img.shields.io/badge/Pandas-150458?style=for-the-badge&logo=pandas&logoColor=white)
![NumPy](https://img.shields.io/badge/NumPy-013243?style=for-the-badge&logo=numpy&logoColor=white)
![scikit-learn](https://img.shields.io/badge/scikit--learn-F7931E?style=for-the-badge&logo=scikitlearn&logoColor=white)

<br>

### ğŸ“ˆ Data Visualization
![matplotlib](https://img.shields.io/badge/Matplotlib-11557C?style=for-the-badge&logo=plotly&logoColor=white)
![seaborn](https://img.shields.io/badge/Seaborn-4C72B0?style=for-the-badge&logo=python&logoColor=white)

<br>

### ğŸ’¾ Model Saving / Utility
![joblib](https://img.shields.io/badge/joblib-4B8BBE?style=for-the-badge&logo=python&logoColor=white)





</div>
<br><br><br>


<div> 

<br>



### ğŸ“ ì‹¤ì œ í´ë” êµ¬ì¡°
</div>

```plaintext
SKN21-2ND-2TEAM/
â”‚
â”œâ”€â”€ backend/                    # Flask API ì„œë²„
â”‚   â””â”€â”€ app.py
â”œâ”€â”€ data/                       # ë°ì´í„° ë° í†µê³„ íŒŒì¼
â”œâ”€â”€ docs/                       # íŒŒì´í”„ë¼ì¸ ì„¤ê³„ ë¬¸ì„œ ë° ì°¸ê³  ìë£Œ
â”œâ”€â”€ frontend/                   # Streamlit UI
â”‚   â””â”€â”€ run_app.py
â”œâ”€â”€ models/                     # ëª¨ë¸ ë° í•™ìŠµ í…œí”Œë¦¿
â”œâ”€â”€ notebooks/                  # EDA / ì „ì²˜ë¦¬ ê²€ì¦ ë…¸íŠ¸ë¶
â”‚
â”œâ”€â”€ requirements.txt            # íŒ¨í‚¤ì§€ ë¦¬ìŠ¤íŠ¸
â””â”€â”€ README.md                   # í”„ë¡œì íŠ¸ ì„¤ëª… ë¬¸ì„œ
```
<br>
<div> 

<br><br><br>


## 1)  Data & Baseline Setup

  - **ë°ì´í„° êµ¬ì¡°**: 8,000ëª… ìœ ì €, ìœ ì €ë‹¹ 1í–‰ ìŠ¤ëƒ…ìƒ· (ìˆ˜ì¹˜í˜• 6ê°œ + ë²”ì£¼í˜• 4ê°œ, íƒ€ê¹ƒ `is_churned`)
       ### ğŸ”¹ `Original Dataset` â€” ì›ë³¸ í”¼ì²˜ í…Œì´ë¸”
      | ì»¬ëŸ¼ëª…                   | íƒ€ì…        | ì„¤ëª…               | 
      | --------------------- | --------- | ---------------- |
      | `user_id`              | INT       | ì‚¬ìš©ì ê³ ìœ  ID        | 
      | `gender`                | VARCHAR   | ì„±ë³„ (Male/Female) | 
      | `age`                   | INT       | ì‚¬ìš©ì ë‚˜ì´           | 
      | `country`               | VARCHAR   | ì ‘ì† êµ­ê°€            | 
      | `subscription_type`     | VARCHAR   | ìš”ê¸ˆì œ ì¢…ë¥˜           |
      | `listening_time`        | FLOAT     | í•˜ë£¨ ìŒì•… ì²­ì·¨ ì‹œê°„(ë¶„)   | 
      | `songs_played_per_day`  | FLOAT     | í•˜ë£¨ ì¬ìƒ ê³¡ìˆ˜         |
      | `skip_rate`             | FLOAT     | ìŠ¤í‚µë¥               |
      | `device_type`           | VARCHAR   | ê¸°ê¸° ì¢…ë¥˜            |
      | `ads_listened_per_week` | INT       | ì£¼ê°„ ê´‘ê³  ì‹œì²­ ìˆ˜       |
      | `offline_listening`     | INT (0/1) | ì˜¤í”„ë¼ì¸ ì¬ìƒ ê¸°ëŠ¥ ì—¬ë¶€    |
      | **`is_churned`**            | INT(0/1)  | ì´íƒˆ ì—¬ë¶€            |

<br>

- **ì´ˆê¸° ë² ì´ìŠ¤ë¼ì¸** (`preprocessing_validation.ipynb`, `FE_validation.ipynb`):
  - ìˆ˜ì¹˜í˜• 6ê°œ + í•µì‹¬ FE 5ê°œ(engagement_score, songs_per_minute, skip_intensity, skip_rate_cap, ads_pressure) ì¡°í•©(Set D)
     ### ğŸ”¹`Feature Engineering` â€” íŒŒìƒ ë³€ìˆ˜ í…Œì´ë¸”
    | ì»¬ëŸ¼ëª…                | íƒ€ì…      | ì„¤ëª…                                |
    | --------------------- | --------- | ------------------------------------ |
    | `engagement_score`   | FLOAT   | listening_time Ã— songs_played_per_day             |
    | `songs_per_minute` | FLOAT | songs_played_per_day / listening_time               |
    | `skip_intensity`     | FLOAT   | skip_rate Ã— songs_played_per_day  |
    | `skip_rate_cap`         | FLOAT   | skip_rate.clip(0, 1.5) |
    | `ads_pressure`         | FLOAT   | ads_listened_per_week / listening_time |

<br>

  - **ëª¨ë¸**: RandomForestClassifier(class_weight='balanced') + threshold íŠœë‹
  - **ì„±ëŠ¥**: **F1â‰ˆ0.41, AUCâ‰ˆ0.54** ìˆ˜ì¤€ì—ì„œ ì •ì²´


<br>

## 2) Feature Engineering & Feature Selection ê²€ì¦
- **FE ê²€ì¦** (`FE_validation.ipynb`, `FE_add.ipynb`):
  - ì—¬ëŸ¬ FE ì„¸íŠ¸(Set A~G) ë° ì¶”ê°€ ì„¸ê·¸ë¨¼íŠ¸/ratio/ë¹„ì„ í˜• FE í›„ë³´ë¥¼ ì‹¤í—˜
  - **ê²°ê³¼**: í•µì‹¬ FE 4~5ê°œë§Œ ë‚¨ê¸°ëŠ” ê²ƒì´ ìµœì„ , ë³µì¡í•œ êµí˜¸ì‘ìš©Â·í”Œë˜ê·¸ë¥¼ ë”í•´ë„ ì„±ëŠ¥ ê°œì„ ì€ Î”F1â‰ˆ0 ìˆ˜ì¤€

 <br>
 
- **ë²”ì£¼í˜• ë° FS ê²€ì¦** (`feature_selection.ipynb`):
  - `gender`, `country`, `subscription_type`, `device_type` ë° íŒŒìƒ ë²”ì£¼í˜•ì„ One-Hot ì¸ì½”ë”©í•´ í¬í•¨
  - ìˆ˜ì¹˜í˜•+FE(10~11ê°œ) vs ìˆ˜ì¹˜í˜•+FE+ë²”ì£¼í˜•(30ê°œ ì´ìƒ) ë¹„êµ ì‹œ **ì˜¤íˆë ¤ F1/AUC ì†Œí­ í•˜ë½ â†’ ë²”ì£¼í˜• ê¸°ì—¬ë„ ë‚®ìŒ**

<br>

## 3) Model TuningÂ·SMOTEÂ·ì•™ìƒë¸” ê²€ì¦
- **ëª¨ë¸/íŒŒë¼ë¯¸í„° íŠœë‹** (`feature_selection.ipynb`):
  - RandomForest í•˜ì´í¼íŒŒë¼ë¯¸í„°(RandomizedSearchCV), K-Fold + threshold íŠœë‹, ì†Œí”„íŠ¸ë³´íŒ… ì•™ìƒë¸”(RF+XGB+HGB) ë“± ì ìš©
  - **ê²°ê³¼**: ì–´ë–¤ ì¡°í•©ë„ F1 0.41Â±0.01, AUC 0.52~0.54 ë²”ìœ„ë¥¼ í¬ê²Œ ë„˜ì§€ ëª»í•¨
 
<br>
  
- **SMOTE + XGBoost + ì•™ìƒë¸”** (`SMOTE_XGB_RF.ipynb`):
  - SMOTE(ì˜¤ë²„ìƒ˜í”Œë§ ë¹„ìœ¨Â·test_sizeÂ·scale_pos_weight ë“± ì—¬ëŸ¬ ë²„ì „), XGBoost GridSearchCV, RF+XGB+HGB ì•™ìƒë¸” ì‹œë„
  - **ê²°ê³¼**: Trainì—ì„œëŠ” F1â†‘ì§€ë§Œ Testì—ì„œëŠ” Baselineë³´ë‹¤ ë‚®ê±°ë‚˜ ë¹„ìŠ·í•œ ìˆ˜ì¤€ â†’ **ì‹¬í•œ ê³¼ì í•© & ì‹¤ì§ˆì  ê°œì„  ì‹¤íŒ¨**

<br>

## 4) Limitations & Root Cause Analysis(í•œê³„ ì›ì¸ ë¶„ì„)
- **í†µê³„Â·ìƒê´€Â·Feature Importance ë¶„ì„** (`feature_selection.ipynb` 6ì¥, `improvement_proposal.md`):
  - ëª¨ë“  í”¼ì²˜ì—ì„œ t-test p-value>0.05, ìƒê´€ê³„ìˆ˜ |r|<0.02 â†’ ì´íƒˆ/ë¹„ì´íƒˆ ê°„ í–‰ë™ ì°¨ì´ê°€ í†µê³„ì ìœ¼ë¡œ ê±°ì˜ ì—†ìŒ
  - RF Feature Importance & Permutation Importanceë„ íŠ¹ì • í”¼ì²˜ê°€ ë‘ë“œëŸ¬ì§€ì§€ ì•Šê³  8~14% ìˆ˜ì¤€ìœ¼ë¡œ ê³ ë¥´ê²Œ ë¶„ì‚°

<br>

- **ê²°ë¡ **:
  - í˜„ì¬ êµ¬ì¡°(ìœ ì €ë‹¹ 1í–‰ ìŠ¤ëƒ…ìƒ· + ë‹¨ì¼ ì‹œì  í”¼ì²˜)ì—ì„œëŠ” **F1â‰ˆ0.41, AUCâ‰ˆ0.53ì´ ì‚¬ì‹¤ìƒ ìƒí•œ**
  - ëª¨ë¸ ë³€ê²½Â·íŠœë‹Â·SMOTEë§Œìœ¼ë¡œëŠ” ì„±ëŠ¥ì„ ì˜¬ë¦¬ê¸° ì–´ë µê³ , **ë°ì´í„°/í”¼ì²˜ ìì²´ë¥¼ ë°”ê¾¸ëŠ” ë°©í–¥ì´ í•„ìš”**í•¨

<br>

## 5) ì‹œê³„ì—´Â·ê³ ê° ì ‘ì  Features ì¶”ê°€ ë° ì„±ëŠ¥ í–¥ìƒ
- **ê°œì„  ì•„ì´ë””ì–´ ì •ë¦¬ (`improvement_proposal.md`)**:
  - Priority 1: ìµœê·¼ 7/14/30ì¼ í–‰ë™ ë³€í™”ë¥¼ ë‹´ëŠ” **ì‹œê³„ì—´ í”¼ì²˜ 5ê°œ**
  - Priority 2: ê³ ê°ì„¼í„° ë¬¸ì˜, ê²°ì œ ì‹¤íŒ¨, í”„ë¡œëª¨ì…˜ ë°˜ì‘, ì•± í¬ë˜ì‹œ ë“± **ê³ ê° ì ‘ì  í”¼ì²˜ 4ê°œ**
     ### ğŸ”¹ `Time-Series Behavioral Trends` - ì‹œê³„ì—´features(5ê°œ)
      | í”¼ì²˜ëª… | íƒ€ì… | ì„¤ëª… | ì˜ˆìƒ ê¸°ì—¬ë„ |
      |--------|------|------|-------------|
      | `listening_time_trend_7d` | float | ìµœê·¼ 7ì¼ ì²­ì·¨ ì‹œê°„ ë³€í™”ìœ¨ (%) | ë†’ìŒ |
      | `login_frequency_30d` | int | ìµœê·¼ 30ì¼ ë¡œê·¸ì¸ íšŸìˆ˜ | ë†’ìŒ |
      | `days_since_last_login` | int | ë§ˆì§€ë§‰ ë¡œê·¸ì¸ í›„ ê²½ê³¼ ì¼ìˆ˜ | ë†’ìŒ |
      | `skip_rate_increase_7d` | float | ìµœê·¼ 1ì£¼ vs ì´ì „ 1ì£¼ ìŠ¤í‚µë¥  ì¦ê°€ìœ¨ | ì¤‘ê°„ |
      | `freq_of_use_trend_14d` | float | ìµœê·¼ 2ì£¼ ì‚¬ìš© ë¹ˆë„ ë³€í™”ìœ¨ (%) | ë†’ìŒ |
     ### ğŸ”¹ `Customer Interaction Signalss` - ê³ ê°ì ‘ì features(4ê°œ)
      | í”¼ì²˜ëª… | íƒ€ì… | ì„¤ëª… | ì˜ˆìƒ ê¸°ì—¬ë„ |
      |--------|------|------|-------------|
      | `customer_support_contact` | bool | ìµœê·¼ 30ì¼ ë‚´ ê³ ê°ì„¼í„° ë¬¸ì˜ ì—¬ë¶€ | ì¤‘ê°„ |
      | `payment_failure_count` | int | ê²°ì œ ì‹¤íŒ¨ íšŸìˆ˜ | ë†’ìŒ |
      | `promotional_email_click` | bool | í”„ë¡œëª¨ì…˜ ì´ë©”ì¼ í´ë¦­ ì—¬ë¶€ | ë‚®ìŒ |
      | `app_crash_count_30d` | int | ìµœê·¼ 30ì¼ ì•± í¬ë˜ì‹œ íšŸìˆ˜ | ì¤‘ê°„ |
  - ì‹¤ì œ ë¡œê·¸ ìˆ˜ì§‘ì´ ì–´ë ¤ìš´ í™˜ê²½ì„ ê°€ì •í•´, ìœ„ í”¼ì²˜ë“¤ì„ **í˜„ì‹¤ì ì¸ ë¶„í¬ë¥¼ ê°€ì§„ í•©ì„± íŠ¹ì„±**ìœ¼ë¡œ ë¨¼ì € ì‹¤í—˜

<br>

- **í•©ì„± í”¼ì²˜ ìƒì„± ë° ê²€ì¦** (`feature_engineering_advanced.ipynb`):
  - ì›ë³¸ ë² ì´ìŠ¤ë¼ì¸(ìˆ˜ì¹˜í˜• 6 + FE 5, ì´ 11ê°œ) ëŒ€ë¹„, **ì‹œê³„ì—´ 5ê°œ + ê³ ê° ì ‘ì  4ê°œ**ë¥¼ ì¶”ê°€í•œ `enhanced_data.csv` ìƒì„±
  - RandomForest ê¸°ë°˜ ì‹¤í—˜ ê²°ê³¼:
    - Baseline: F1â‰ˆ0.42, AUCâ‰ˆ0.54
    - +ì‹œê³„ì—´ í”¼ì²˜: F1â‰ˆ0.49, AUCâ‰ˆ0.73
    - +ì‹œê³„ì—´+ê³ ê°ì ‘ì (ìµœì¢…): **F1â‰ˆ0.62, AUCâ‰ˆ0.79** (Î”F1 +0.20 ì´ìƒ, Î”AUC +0.25 ì´ìƒ)
  - **Feature Importance ê¸°ì¤€ í•µì‹¬ ê¸°ì—¬ í”¼ì²˜**:
    - `payment_failure_count`, `app_crash_count_30d` (ê³ ê° ì ‘ì )
    - `freq_of_use_trend_14d`, `listening_time_trend_7d`, `skip_rate_increase_7d` (ì‹œê³„ì—´)

<br>

## 6) Preprocessing Pipeline Refinement
- **ì „ì²˜ë¦¬ ì •ì±… ë° ë°ì´í„° ë²„ì „** (`preprocessing_validation_v2.ipynb`, `reset.md`):
  - í•©ì„± í”¼ì²˜ í¬í•¨ ë°ì´í„° `enhanced_data.csv` ìƒì„± í›„,
    - ê²°ì¸¡/ì´ìƒì¹˜ ì²˜ë¦¬ ë²„ì „: `enhanced_data_clean.csv`
    - FE 5ê°œë¥¼ ì œê±°í•œ ìµœì¢… ëª¨ë¸ ì…ë ¥ìš©: `enhanced_data_clean_model.csv` (ì›ë³¸ ìˆ˜ì¹˜í˜• 6 + ì‹œê³„ì—´ 5 + ê³ ê° ì ‘ì  4 = **ì´ 15ê°œ ìˆ˜ì¹˜í˜•**)
  - EDAëŠ” `enhanced_data_clean.csv`, ëª¨ë¸ í•™ìŠµì€ `enhanced_data_clean_model.csv` ê¸°ì¤€ìœ¼ë¡œ ì‚¬ìš©

<br>

- **ë°±ì—”ë“œ íŒŒì´í”„ë¼ì¸ ë° ì‹¤í—˜ êµ¬ì¡°** (`backend/preprocessing_pipeline.py`, `backend/models.py`, `backend/train_experiments.py`):
  - sklearn `ColumnTransformer` ê¸°ë°˜ ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸(ê²°ì¸¡/ì´ìƒì¹˜ ì²˜ë¦¬ + ìˆ˜ì¹˜í˜• ìŠ¤ì¼€ì¼ë§ + ë²”ì£¼í˜• One-Hot)
  - `get_model()` + `MODEL_REGISTRY` êµ¬ì¡°ë¡œ ëª¨ë¸ ìƒì„±, `MODEL_PARAMS` ë”•ì…”ë„ˆë¦¬ë¡œ í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹
  - ì‹¤í—˜ ê²°ê³¼ëŠ” `models/metrics.json`ì— ëˆ„ì  ì €ì¥í•˜ë„ë¡ ì„¤ê³„

<br>

## 7) Final Summary & Key Takeaways
- **í˜„ì¬ ë°ì´í„°(ìŠ¤ëƒ…ìƒ·)ë§Œ ì‚¬ìš©**í–ˆì„ ë•ŒëŠ”, ë‹¤ì–‘í•œ FE/FS/íŠœë‹/SMOTE/XGBoost/ì•™ìƒë¸”ì„ ëª¨ë‘ ì‹œë„í•´ë„ **F1â‰ˆ0.41, AUCâ‰ˆ0.53 ê·¼ì²˜ì—ì„œ ì •ì²´**ë¨.
- **ì‹œê³„ì—´ + ê³ ê° ì ‘ì  í”¼ì²˜ë¥¼ ì¶”ê°€**í•œ `enhanced_data.csv` ì‹¤í—˜ì—ì„œëŠ”, ë™ì¼í•œ ëª¨ë¸(RF)ë¡œë„ **F1â‰ˆ0.62, AUCâ‰ˆ0.79ê¹Œì§€ ì„±ëŠ¥ì´ í¬ê²Œ ìƒìŠ¹**í•˜ëŠ” ê²ƒì„ í™•ì¸í•¨.
- ì´ë¥¼ í†µí•´ **â€œëª¨ë¸ì„ ë°”ê¾¸ëŠ” ê²ƒë³´ë‹¤, ì´íƒˆ ì§ì „ í–‰ë™ ë³€í™”ì™€ ê³ ê° ì ‘ì ì„ ë‹´ëŠ” í”¼ì²˜ë¥¼ ì„¤ê³„Â·ìˆ˜ì§‘í•˜ëŠ” ê²ƒì´ í•µì‹¬â€**ì´ë¼ëŠ” ê²°ë¡ ì— ë„ë‹¬í–ˆê³ ,
  ì‹¤ì œ ì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œëŠ” ë¡œê·¸Â·ê³ ê°ì„¼í„°Â·ê²°ì œ/ì—ëŸ¬ ë°ì´í„°ë¥¼ ê²°í•©í•œ í”¼ì²˜ ì„¤ê³„ë¥¼ ê°€ì¥ ìš°ì„ ìˆœìœ„ë¡œ ë‘ì–´ì•¼ í•œë‹¤ëŠ” ì¸ì‚¬ì´íŠ¸ë¥¼ ì–»ìŒ.

<br>

## 8) Final Model Comparison & Selection (HGB Selected)
- **ì‹¤í—˜ ê³µí†µ ì¡°ê±´**
  - ë°ì´í„°: `data/enhanced_data_not_clean_FE_delete.csv` (ì›ë³¸ ìˆ˜ì¹˜í˜• 6 + ì‹œê³„ì—´ 5 + ê³ ê° ì ‘ì  4 = **15ê°œ ìˆ˜ì¹˜í˜•** ì¤‘ì‹¬)
  - ì „ì²˜ë¦¬: `backend/preprocessing_pipeline.py` / `jy_model_test/preprocessing_pipeline.py` ì˜ `preprocess_and_split()`
  - ì„¤ì •: `TEST_SIZE=0.2`, `RANDOM_STATE=42`, threshold ìŠ¤ìº”(ëŒ€ë¶€ë¶„ 0.05~0.35or0.45, HGBëŠ” 0.05~0.45, step=0.005)

      ### ğŸ“Š Model Performance Comparison
      #### ğŸ”¸ F1 Score (ì •ë°€ë„Â·ì¬í˜„ìœ¨ ì¡°í™” í‰ê· )
      <p align="center">
        <img src="image/f1_score.jpg" width="600">
      </p>
      
      #### ğŸ”¸ ROC-AUC (ë¶„ë¥˜ê¸° êµ¬ë¶„ëŠ¥ë ¥ ì§€í‘œ) 
      <p align="center">
        <img src="image/ROC_AUC.jpg" width="600">
      </p>
      
      #### ğŸ”¸ PR-AUC (ì–‘ì„± í´ë˜ìŠ¤ ì˜ˆì¸¡ ì„±ëŠ¥ ì§€í‘œ) 
      <p align="center">
        <img src="image/PR_AUC.jpg" width="600">
      </p>
      
      #### ğŸ”¸ Recall (ì´íƒˆì íƒì§€ ì„±ëŠ¥)  
      <p align="center">
        <img src="image/Recall.jpg" width="600">
      </p>


     **ëª¨ë¸ë³„ best-run ì„±ëŠ¥ ìš”ì•½**
    
      | Model                   | F1 Score    | ROC-AUC    | PR-AUC     | Best Threshold | Precision | Recall |
      | ----------------------- | ----------- | ---------- | ---------- | -------------- | --------- | ------ |
      | **HGB (Best)**          | **0.6427**  | 0.8093     | 0.6910     | 0.26           | 0.6381    | **0.6473** |
      | **LGBM**                | **0.6414**  | **0.8158** | 0.6996     | 0.28           | 0.6501    | 0.6329 |
      | **XGBoost**             | 0.6197      | 0.8105     | **0.6933** | 0.44           | 0.6027    | 0.6377 |
      | **RandomForest**        | 0.6216      | 0.7932     | 0.6635     | 0.365          | 0.6732    | 0.5773 |
      | **ExtraTrees**          | 0.6150      | 0.7881     | 0.6279     | 0.34           | 0.6165    | 0.6135 |
      | **KNN**                 | 0.4908      | 0.6764     | 0.4244     | 0.26           | 0.4243    | 0.5821 |
      | **Logistic Regression** | 0.4809      | 0.6874     | 0.4587     | 0.26           | 0.3974    | 0.6086 |

<br> 

  > ### ğŸ’¡ **ëª¨ë¸ ì„ íƒ ê·¼ê±° â€” Why HGB?**
  > 
  > #### - **F1 ê¸°ì¤€ íŒ€ ë‚´ ìµœê³  ì„±ëŠ¥**
  > - HGB F1 â‰ˆ **0.643**
  > - LGBM â‰ˆ 0.641  
  > - XGB â‰ˆ 0.620  
  > - RF â‰ˆ 0.622  
  > â†’ **ì „ì²´ ëª¨ë¸ ì¤‘ ê°€ì¥ ë†’ì€ F1 ìŠ¤ì½”ì–´ ê¸°ë¡**
  >
  > 
  >
  > #### - **Precision Â· Recall ê· í˜•ì„± ì¸¡ë©´ (hgb_test.md ê¸°ì¤€)**
  > - **HGB** â†’ Precision â‰ˆ **0.638**, Recall â‰ˆ **0.647** â†’ *ê· í˜• ì¡íŒ ëª¨ë¸*
  > - XGB â†’ Precision â‰ˆ 0.603, Recall â‰ˆ 0.638 â†’ *Recall â†‘, Precision â†“*
  > - LGBM â†’ Precision â‰ˆ 0.650, Recall â‰ˆ 0.633 â†’ *Precision â†‘, Recall â†“*
  > - **HGBëŠ” FP(ê±°ì§“ ì–‘ì„±) / FN(ê±°ì§“ ìŒì„±) ëª¨ë‘ ê³¼ë„í•˜ê²Œ ëŠ˜ì§€ ì•ŠëŠ” ì•ˆì •ì  êµ¬ì¡°**
  >
  > 
  >
  > #### - **AUC / PR-AUC ì „ì²´ ë¹„êµ**
  > - LGBM AUC â‰ˆ **0.816**, PR-AUC â‰ˆ **0.700**  â†’ *ì ˆëŒ€ìˆ˜ì¹˜ ìµœê³ *
  > - XGB AUC â‰ˆ 0.811, PR-AUC â‰ˆ 0.693  â†’ *ìƒìœ„ê¶Œ*
  > - HGB AUC â‰ˆ **0.809**, PR-AUC â‰ˆ **0.691** â†’ *í° ì°¨ì´ ì—†ì´ ë§¤ìš° ìš°ìˆ˜*
  > â†’ **HGBëŠ” AUC ê¸°ì¤€ìœ¼ë¡œë„ ìƒìœ„ê¶Œì´ë©° F1 ì„±ëŠ¥ê¹Œì§€ ê³ ë ¤í•˜ë©´ ì¢…í•© ì ìˆ˜ ìµœìƒ**
  >
  > 
  >
  > ### ğŸ’¡ **ìµœì¢… ê²°ë¡  â€” Why HGB as Final Model?**
  > - ì„œë¹„ìŠ¤ ëª©ì ìƒ **ì´íƒˆ/ë¹„ì´íƒˆ ëª¨ë‘ ì˜ ë§ì¶”ëŠ” F1 ì¤‘ì‹¬ í‰ê°€ ê¸°ì¤€**ì„ ì±„íƒ  
  > - HGBëŠ” **F1 ìµœê³  + Precision/Recall ê· í˜• ìµœì **  
  > - ê³¼ëŒ€ì í•© ìœ„í—˜ ë‚®ê³ , threshold ë¯¼ê°ë„ë„ ë‚®ì•„ **ì‹¤ì „ ì•ˆì •ì„± ë†’ìŒ**  
  > - LGBM/XGBëŠ” AUCëŠ” ë†’ì§€ë§Œ, ìš´ì˜ ëª©ì (ê· í˜• ì˜ˆì¸¡) ëŒ€ë¹„ ë³€ë™ì„± ì¡´ì¬  
  >
  > 
  > ğŸ‘‰ **ë”°ë¼ì„œ HGB(HistGradientBoostingClassifier)ë¥¼ ìµœì¢… ë°°í¬/ì‹œì—°ìš© ëª¨ë¸ë¡œ ì„ ì •.**  
  > ğŸ‘‰ AUC ì¤‘ì‹¬ ì‹¤í—˜ ë˜ëŠ” ë³´ì¡° ëª¨ë¸ì´ í•„ìš”í•  ë•ŒëŠ” XGB/LGBMì„ í•¨ê»˜ ì‚¬ìš© ê°€ëŠ¥.


<br><br>

## ğŸ’¡ ì£¼ìš” ê¸°ëŠ¥ (Key Features)

ë³¸ í”„ë¡œì íŠ¸ëŠ” Spotify ì‚¬ìš©ì í–‰ë™ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ  
**ì´íƒˆ í™•ë¥ ì„ ì˜ˆì¸¡**í•˜ê³ , ì´ë¥¼ Streamlit UIë¥¼ í†µí•´ ì‹œê°í™”í•˜ê³  ì œê³µí•©ë‹ˆë‹¤.

<br>

### â­ 1. ì‚¬ìš©ì ì…ë ¥ ê¸°ë°˜ ì´íƒˆ ì˜ˆì¸¡
- ì‚¬ìš©ìê°€ ì§ì ‘ **listening_time, skip_rate, engagement_score, ads_pressure** ê°’ì„ ì…ë ¥
- Flask API ì„œë²„ê°€ ëª¨ë¸ì„ í†µí•´ **ì´íƒˆ í™•ë¥ (Churn Probability)**ì„ ê³„ì‚°
- "ì”ì¡´ / ì´íƒˆ" ì—¬ë¶€ë¥¼ ì¦‰ì‹œ ì œê³µ

<br>

### ğŸ“Š 2. ì‹œê°í™” ê¸°ë°˜ ë°ì´í„° í™•ì¸
- ì…ë ¥ëœ ê°’ì— ë”°ë¼ ê°„ë‹¨í•œ ì‹œê°í™”ë¥¼ ì œê³µ
- ì‚¬ìš©ì í–‰ë™ ë³€ìˆ˜ë“¤ì˜ í•´ì„ì„ ì§€ì›
- Feature ê°„ ìƒê´€ê´€ê³„ ë° churn ì˜í–¥ í™•ì¸ ê°€ëŠ¥

<br>

### ğŸ“ 3. ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ ìë™ ì ìš©
- Train/Test ë°ì´í„°ì™€ ë™ì¼í•œ ì „ì²˜ë¦¬ íë¦„ì„ APIì—ì„œ ìë™ ì ìš©
- ì¸ì½”ë”©, ìŠ¤ì¼€ì¼ë§, Feature ë³€í™˜ì´ ì¼ê´€ë˜ê²Œ ì§„í–‰ë¨  
- ëª¨ë¸ ì…ë ¥ ì˜¤ë¥˜ ë°©ì§€

<br>

### ğŸ¤– 4. Baseline ML ëª¨ë¸ ê¸°ë°˜ ì˜ˆì¸¡
- Logistic Regression Baseline ëª¨ë¸ ì ìš©
- ì „ì²˜ë¦¬ + í•™ìŠµ + í‰ê°€ íë¦„ ìë™í™”
- `.pkl`ë¡œ ì €ì¥ëœ ëª¨ë¸ì„ APIì—ì„œ ë¡œë“œí•˜ì—¬ ì‹¤ì‹œê°„ ì˜ˆì¸¡

<br>

### ğŸ—„ï¸ 5. MySQL ì‚¬ìš©ì ê´€ë¦¬ & ì˜ˆì¸¡ ì´ë ¥ ì €ì¥
- íšŒì›ê°€ì… / ë¡œê·¸ì¸ ê¸°ëŠ¥ ì§€ì›
- bcrypt ê¸°ë°˜ ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
- ì˜ˆì¸¡ ìš”ì²­ ì‹œ DBì— ìë™ ì €ì¥:
  - ì…ë ¥ê°’ (listening_time, skip_rate ë“±)
  - ì˜ˆì¸¡ ê²°ê³¼(churn probability)
  - ìš”ì²­ ì‹œê°„

<br>

### ğŸ–¥ï¸ 6. Streamlit ê¸°ë°˜ ë‹¨ì¼ í˜ì´ì§€ UI
- ì§ê´€ì ì´ê³  ì‹¬í”Œí•œ UI êµ¬ì„±
- ë²„íŠ¼ í´ë¦­ë§Œìœ¼ë¡œ ì˜ˆì¸¡ ìˆ˜í–‰
- ì˜¨ë¼ì¸ ì„œë¹„ìŠ¤ í˜•íƒœì™€ ìœ ì‚¬í•œ êµ¬ì¡°

<br>

### ğŸ”§ 7. íŒ€ ê¸°ë°˜ êµ¬ì¡°í™”ëœ íŒŒì´í”„ë¼ì¸
- íŒŒíŠ¸ë³„ ì±…ì„(ë°ì´í„° ë¶„ì„ / ì „ì²˜ë¦¬ / ëª¨ë¸ë§ / UI / í†µí•©)ì´ ëª…í™•
- ì‹¤ì œ ì„œë¹„ìŠ¤ ê°œë°œ ê³¼ì •ê³¼ ìœ ì‚¬í•œ í˜‘ì—… í”„ë¡œì„¸ìŠ¤ êµ¬ì„±


<br><br><br>

## ğŸ“ íŒ€ì› ì†Œê° (Team Retrospective)
<br>

| ğŸ§‘â€ğŸ’¼ ì´ë¦„ | ğŸ›  ì—­í•  | ğŸ’¬ ì†Œê° |
|-----------|-----------|-----------|
| **ë°•ìˆ˜ë¹ˆ** | Frontend / PM / Integrator | ë‚˜ëŠ” ì§±ì„ë‹¤ |
| **ì‹ ì§€ìš©** | Feature Engineer / QA | ìš¸ë„ë¼ |
| **ìœ¤ê²½ì€** | Data Lead / Pipeline | |
| **ì •ì„¸ì—°** | ML Engineer / Modeling |  |
| **ë°•ë¯¼ì •** | Backend / Data Pipeline | |
