## <span style="color:green">화면 기능구현을 위현 요건</span>

## 📌 Flask API 구현

<br>

### 🔹 1. 화면에서의 MODEL 호출 API  
**기능:** 화면에서 호출 시, Feature 값을 입력 받고, MODEL 실행 및 결과값 반환.
**반환값:** user_id(유저ID), churn_rate(이탈률), risk_score(위험도), update_date(실행일자)

- user_prediction에 Insert OR Update 필요.
- 기존 Feture Data에 user_Id  가 존재하지 않아, 매핑 로직 필요.
- 테이블 생성되지 않아, 생성 쿼리문 작성 및 실행 필요.

<br>

### 🔹 2. TB에서 위험도 및 userData 호출 API
**기능:** 화면에서 입력받은 User PK값으로 TB Select 후 반환 
**반환값:** user_id(유저ID), churn_rate(이탈률), risk_score(위험도), update_date(실행일자)

<br>

### 🔹 3. CSV 파일 업로드 API
**기능:** 위험도 예측 화면에 CSV 파일 업로드. 이후 해당 파일로 MODEL 예측. 
**반환값:** X

- 화면 Button 에 함수 Link 후 사용 예정.

<br>

### 🔹 4. CSV 파일 다운로드 API
**기능:** 위험도 예측 화면에 CSV 파일 다운로드.
**반환값:** user_id(유저ID), churn_rate(이탈률), risk_score(위험도), update_date(실행일자) -> 다건의 경우  List 형태의 CSV 파일

- 화면 Button 에 함수 Link 후 사용 예정.


<br>

### 🔹 주요 테이블 구조

### 1) `user_prediction` — 사용자 
| 컬럼명                   | 타입        | 설명                               | 
| ---------------------   | ---------   | ----------------                   |
| `user_id`               | INT         | 사용자 고유 ID                      | 
| `churn_rate`            | INT         | 이탈률 (%)                          |
| `risk_score`            | VARCHAR     | 위험도 (높음, 보통, 낮음)            | 
| `update_date`           | DATE        | 업데이트 일자 (2025-11-24)          |

- users 테이블과  user_id 로 Join 하여 사용할 예정.

<br>


